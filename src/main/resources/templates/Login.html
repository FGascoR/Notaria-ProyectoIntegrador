<!doctype html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/stylesLogin.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>
<div class="bg-circle left"></div>
<div class="bg-circle right"></div>

<div class="page-wrap">
    <div class="login-card">
        <div class="avatar-wrap">
            <img src="img/Screenshot 2025-07-20 215628.png" alt="avatar">
        </div>

        <h4 class="mb-4">Iniciar Sesión</h4>

        <form th:action="@{/login}" method="post">
            <div class="mb-3">
                <input type="text" class="form-control" name="username" placeholder="Usuario" required>
            </div>
            <div class="mb-2">
                <input type="password" class="form-control" name="password" placeholder="Contraseña" required>
            </div>
            <div class="text-start mb-3">
                <a href="#" class="small-link">¿Olvidaste tu contraseña?</a>
            </div>
            <div class="mb-3">
                <button type="submit" class="btn btn-gold">Ingresar</button>
            </div>
        </form> <div class="divider"></div>
        <p class="small mb-3">¿No tienes una cuenta?</p>

        <a th:href="@{/registrarse}" class="btn btn-gold" style="width: 100%;">Crear Cuenta</a>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    const params = new URLSearchParams(window.location.search);
    const Toast = Swal.mixin({
        toast: true, position: 'top', showConfirmButton: false, timer: 3000
    });

    if (params.has('error')) {
        Toast.fire({ icon: 'error', title: 'Credenciales incorrectas', text: 'Usuario o contraseña no válidos.' });
    }
    if (params.has('logout')) {
        Toast.fire({ icon: 'info', title: 'Sesión cerrada correctamente' });
    }
    if (params.get('registro') === 'exitoso') {
        Swal.fire({
            title: '¡Cuenta Creada!',
            text: 'Ahora puedes iniciar sesión con tus credenciales.',
            icon: 'success',
            confirmButtonColor: '#b8860b'
        });
    }
</script>
</body>
</html>